<html xmlns:th="http://www.thymeleaf.org">
<html>
<head>
	<title>Signup</title>
	<link rel="stylesheet" type="text/css" href="css/login_styles.css">
	<script src="/webjars/font-awesome/5.15.0/js/all.js"></script>
	<link rel="stylesheet" type="text/css" href="/webjars/font-awesome/5.15.0/css/all.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<img class="wave" src="images/wave.png">
	<div class="container">
		<div class="img">
			<img src="images/bg.svg">
		</div>
		<div class="login-content">
			<form name="f"  id="signup_form">
				<div class="logo-container">
					<div class="logo">
					  <img src="images/sunshine stores.png" alt="logo" class="logo-img">
					</div>
					  <div class="logo-text">
						Sunshine<br>Stores
					  </div>
				</div>
				<img src="images/avatar.svg">
				<h3 class="title">SignUp</h3>
           		<div class="input-div one">
           		   <div class="i">
           		   		<i class="fas fa-user"></i>
           		   </div>
           		   <div class="div">
           		   		<h5>Username</h5>
           		   		<input type="text" class="input" autocomplete="off" id="username" name="username">
           		   </div>
           		</div>
           		<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>Password</h5>
           		    	<input type="text" class="input" autocomplete="off" id="password" name= "password">
            	   </div>
            	</div>
            	<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-phone-square-alt"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>Phone</h5>
           		    	<input type="number" class="input" autocomplete="off" id="phone" name= "phone">
            	   </div>
            	</div>
           		<div class="input-div pass">
           		   <div class="i"> 
           		    	<i class="fas fa-lock"></i>
           		   </div>
           		   <div class="div">
           		    	<h5>email</h5>
           		    	<input type="text" class="input" autocomplete="off" id="email" name= "email">
            	   </div>
            	</div>
            	<input type="submit" id="signup-btn" class="btn" value="signup">
            </form>
        </div>
    </div>
    <script>
		const inputs = document.querySelectorAll(".input");
        document.getElementById('signup-btn').addEventListener("click",signup);
		function addcl(){
			let parent = this.parentNode.parentNode;
			parent.classList.add("focus");
		}
		
		function remcl(){
			let parent = this.parentNode.parentNode;
			if(this.value == ""){
				parent.classList.remove("focus");
			}
		}
		
		inputs.forEach(input => {
			input.addEventListener("focus", addcl);
			input.addEventListener("blur", remcl);
		});
		function signup(e){
			e.preventDefault();
			let username = document.getElementById("username").value;
			let password = document.getElementById("password").value;
			let email = document.getElementById("email").value;
			let enabled = true;
			let phone = document.getElementById("phone").value;
			let roles = null;
			fetch("/signup/user",{
				method:"POST",
		        headers: {
		            'Accept': 'application/json, text/plain, */*',
		            'Content-type':'application/json'
		          },
		          body:JSON.stringify({username:username, password:password, email:email, phone:phone, enabled:enabled, roles:roles})
			})
			  .then((res) => res.text())
              .then((data) => alert(data));
		}
    </script>
</body>
</html>
